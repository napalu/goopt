<button class="btn btn-icon js-theme-switcher"
  style="padding: 0.5em 0.4em 0.5em 0.8em;" title="Toggle Dark/Light Mode"
>
  <svg viewBox="0 0 16 16" id="svg-sun-icon" class="icon obj-default-theme" title="Toggle Dark Mode">
    <use xlink:href="#svg-sun"></use>
  </svg>
  <svg viewBox="0 0 16 16" id="svg-moon-icon" class="icon obj-dark-theme" title="Toggle Light Mode">
    <use xlink:href="#svg-moon"></use>
  </svg>
</button>

<button class="btn btn-icon" style="padding: 0.5em 0.8em 0.5em 0.4em;" title="View it on Github"
  onclick="window.location.href='//github.com/{{ site.repository }}';"
>
  <svg viewBox="0 0 16 16" class="icon" style="display: flex;" title="View it on Github">
    <use xlink:href="#svg-git"></use>
  </svg>
</button>

<script>
    document.addEventListener('DOMContentLoaded', function() {
      const savedTheme = localStorage.getItem('theme');
      const prefersDarkScheme = window.matchMedia("(prefers-color-scheme: dark)").matches;
      const initialTheme = savedTheme || (prefersDarkScheme ? 'dark' : 'light');
      
      document.documentElement.setAttribute('data-theme', initialTheme);
      jtd.setTheme(initialTheme);
      localStorage.setItem('theme', initialTheme);
    });
  
    const themeSwitcher = document.querySelector('.js-theme-switcher');
  
    jtd.addEvent(themeSwitcher, 'click', function() {
      const currentTheme = document.documentElement.getAttribute('data-theme');
      const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
      
      document.documentElement.setAttribute('data-theme', newTheme);
      localStorage.setItem('theme', newTheme);
      jtd.setTheme(newTheme);
    });
  </script>
